module declix

import "pkl:base"

abstract class Resource { 
    fixed type: String
    fixed id: String
}

/// All resources with missing state should use this class to indicate it
class Missing { }

typealias Content = String | UrlContent | Base64 | base.Resource | Render;

class UrlContent {
    url: String
    sha256: String
}

class Base64 {
    data: String
}

abstract class Render {
    abstract function render(): String

    _result: String = render()
    _sha256: String = _result.sha256
}